<button class="delete-button" data-id="<%= data %>">Delete</button>

<!-- ========== forEach_deleteButton... ========== -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const deleteButtons = document.querySelectorAll(".delete-button");

    deleteButtons.forEach((button) => {
      button.addEventListener("click", async (event) => {
        event.preventDefault(); // Prevent default form submission

        const postId = button.getAttribute("data-id");

        try {
          const response = await fetch(`./delete/${postId}`, {
            method: "DELETE",
          });

          if (!response.ok) {
            throw new Error("Failed to delete post");
          }

          // Reload the page or update UI as necessary
          location.reload(); // Reload the page after successful deletion
        } catch (error) {
          console.error("Error deleting post:", error.message);
          // Handle error, show message to user, etc.
        }
      });
    });
  });
</script>
<!-- ========== forEach_deleteButton. ========== -->
